<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Netflix</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script defer src="https://use.fontawesome.com/releases/v5.1.0/js/all.js" integrity="sha384-3LK/3kTpDE/Pkp8gTNp2gR/2gOiwQ6QaO7Td0zV76UFJVhqLl4Vl3KL1We6q6wR9" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="src/css/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="main.js"></script>
</head>

<body class="animate__animated animate__fadeIn">
    <div class="at" id="olok">
        <div class="uuuu" id="bok">
            <div class="text"></div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg osu">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="./src/img/net.png" alt="" width="100" class="d-inline-block align-text-top">
            </a>
            <div class="collapse navbar-collapse" id="navbarText">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page">Una serie inolvidable con el amor de mi vida</a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>

    <div class="comienzo container">
        <div class="row">
            <div class="col-md-6 al">
                <h1>El comienzo de algo nuevo con el amor de mi vida</h1>
                <div class="aa">
                    <label class="txt1">02/02/2022</label> <label for="" class="txt1">| Temporada 1 |</label> <label for="" class="txt1">Unico e Increible </label>
                </div>

                <p>Llego el amor de mi vida, llego mi felicidad, el cambio que necesitaba un amor y realidad sincera. Comienza algo inolvidable </p>
                <button class="verr" id="btna">Ver ahora</button>
            </div>
            <div class="col-md-6 container-fluid bglg">

            </div>
        </div>
    </div>

    <div class="wrapper ">
        <!-- MAIN CONTAINER -->
        <section class="main-container ">
            <div class="location" id="home">
                <h2 id="home">Proximos Capitulos...</h2>
                <p style="margin-top: -5px;">Posibles Cosas Que Marcan Nuestra Vida ‚ù§Ô∏è</p>
                <div class="box" style="margin-top: 40px; ">
                    <a><img src="./src/img/1.jpg" alt=""></a>
                    <a><img src="./src/img/2.jpg" alt=""></a>
                    <a><img src="./src/img/3.jpg" alt=""></a>
                    <a><img src="./src/img/5.jpg" alt=""></a>
                    <a><img src="./src/img/4.jpg" style="margin-bottom: 300px !important;" alt=""></a>
                </div>
            </div>
    </div>
    </div>


    <div id="drag-container">
        <div id="spin-container">
            <!-- Add your images (or video) here -->
            <img src="https://images.pexels.com/photos/206395/pexels-photo-206395.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">
            <img src="https://images.pexels.com/photos/1391498/pexels-photo-1391498.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">
            <img src="https://images.pexels.com/photos/1382731/pexels-photo-1382731.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">
            <img src="https://images.pexels.com/photos/1758144/pexels-photo-1758144.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">
            <img src="https://images.pexels.com/photos/1382734/pexels-photo-1382734.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">
            <img src="https://images.pexels.com/photos/1462636/pexels-photo-1462636.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">

            <!-- Example image with link -->
            <a target="_blank" href="https://images.pexels.com/photos/139829/pexels-photo-139829.jpeg">
                <img src="https://images.pexels.com/photos/139829/pexels-photo-139829.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500" alt="">
            </a>


            <!-- Text at center of ground -->
            <p>Te amo Nadia</p>
        </div>
        <div id="ground"></div>
    </div>

    <div id="music-container" style="display: none;"></div>













    <style>
        .github-corner:hover .octo-arm {
            animation: octocat-wave 560ms ease-in-out
        }
        
        @keyframes octocat-wave {
            0%,
            100% {
                transform: rotate(0)
            }
            20%,
            60% {
                transform: rotate(-25deg)
            }
            40%,
            80% {
                transform: rotate(10deg)
            }
        }
        
        @media (max-width:500px) {
            .github-corner:hover .octo-arm {
                animation: none
            }
            .github-corner .octo-arm {
                animation: octocat-wave 560ms ease-in-out
            }
        }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/ScrollTrigger.min.js"></script>
    <script>
        // Author: Hoang Tran (https://www.facebook.com/profile.php?id=100004848287494)
        // Github verson (1 file .html): https://github.com/HoangTran0410/3DCarousel/blob/master/index.html


        // You can change global variables here:
        var radius = 240; // how big of the radius
        var autoRotate = true; // auto rotate or not
        var rotateSpeed = -60; // unit: seconds/360 degrees
        var imgWidth = 120; // width of images (unit: px)
        var imgHeight = 170; // height of images (unit: px)

        // Link of background music - set 'null' if you dont want to play background music
        var bgMusicURL = 'https://api.soundcloud.com/tracks/143041228/stream?client_id=587aa2d384f7333a886010d5f52f302a';
        var bgMusicControls = true; // Show UI music control

        /*
             NOTE:
               + imgWidth, imgHeight will work for video
               + if imgWidth, imgHeight too small, play/pause button in <video> will be hidden
               + Music link are taken from: https://hoangtran0410.github.io/Visualyze-design-your-own-/?theme=HauMaster&playlist=1&song=1&background=28
               + Custom from code in tiktok video  https://www.facebook.com/J2TEAM.ManhTuan/videos/1353367338135935/
        */


        // ===================== start =======================
        // animation start after 1000 miliseconds
        setTimeout(init, 1000);

        var odrag = document.getElementById('drag-container');
        var ospin = document.getElementById('spin-container');
        var aImg = ospin.getElementsByTagName('img');
        var aVid = ospin.getElementsByTagName('video');
        var aEle = [...aImg, ...aVid]; // combine 2 arrays

        // Size of images
        ospin.style.width = imgWidth + "px";
        ospin.style.height = imgHeight + "px";

        // Size of ground - depend on radius
        var ground = document.getElementById('ground');
        ground.style.width = radius * 3 + "px";
        ground.style.height = radius * 3 + "px";

        function init(delayTime) {
            for (var i = 0; i < aEle.length; i++) {
                aEle[i].style.transform = "rotateY(" + (i * (360 / aEle.length)) + "deg) translateZ(" + radius + "px)";
                aEle[i].style.transition = "transform 1s";
                aEle[i].style.transitionDelay = delayTime || (aEle.length - i) / 4 + "s";
            }
        }

        function applyTranform(obj) {
            // Constrain the angle of camera (between 0 and 180)
            if (tY > 180) tY = 180;
            if (tY < 0) tY = 0;

            // Apply the angle
            obj.style.transform = "rotateX(" + (-tY) + "deg) rotateY(" + (tX) + "deg)";
        }

        function playSpin(yes) {
            ospin.style.animationPlayState = (yes ? 'running' : 'paused');
        }

        var sX, sY, nX, nY, desX = 0,
            desY = 0,
            tX = 0,
            tY = 10;

        // auto spin
        if (autoRotate) {
            var animationName = (rotateSpeed > 0 ? 'spin' : 'spinRevert');
            ospin.style.animation = `${animationName} ${Math.abs(rotateSpeed)}s infinite linear`;
        }

        // add background music
        if (bgMusicURL) {
            document.getElementById('music-container').innerHTML += `
<audio src="${bgMusicURL}" ${bgMusicControls? 'controls': ''} autoplay loop>    
<p>If you are reading this, it is because your browser does not support the audio element.</p>
</audio>
`;
        }

        // setup events
        document.onpointerdown = function(e) {
            clearInterval(odrag.timer);
            e = e || window.event;
            var sX = e.clientX,
                sY = e.clientY;

            this.onpointermove = function(e) {
                e = e || window.event;
                var nX = e.clientX,
                    nY = e.clientY;
                desX = nX - sX;
                desY = nY - sY;
                tX += desX * 0.1;
                tY += desY * 0.1;
                applyTranform(odrag);
                sX = nX;
                sY = nY;
            };

            this.onpointerup = function(e) {
                odrag.timer = setInterval(function() {
                    desX *= 0.95;
                    desY *= 0.95;
                    tX += desX * 0.1;
                    tY += desY * 0.1;
                    applyTranform(odrag);
                    playSpin(false);
                    if (Math.abs(desX) < 0.5 && Math.abs(desY) < 0.5) {
                        clearInterval(odrag.timer);
                        playSpin(true);
                    }
                }, 17);
                this.onpointermove = this.onpointerup = null;
            };

            return false;
        };

        document.onmousewheel = function(e) {
            e = e || window.event;
            var d = e.wheelDelta / 20 || -e.detail;
            radius += d;
            init(1);
        };


        gsap.registerPlugin(ScrollTrigger);

        gsap.utils.toArray('.marquee').forEach((el, index) => {
            const w = el.querySelector('.track');
            console.log(w.scroll())
            const [x, xEnd] = (index % 2 == 0) ? [-500, -1500] : [-500, 0];
            gsap.fromTo(w, {
                x
            }, {
                x: xEnd,
                scrollTrigger: {
                    scrub: 1
                }
            });
        });

        const centerContent = document.getElementById('center-content');
        const centerFold = document.getElementById('center-fold');
        const foldsContent = Array.from(document.querySelectorAll('.fold-content'));

        let targetScroll = -(
            document.documentElement.scrollTop || document.body.scrollTop
        );
        let currentScroll = targetScroll;

        const tick = () => {
            const overflowHeight = centerContent.clientHeight - centerFold.clientHeight;

            document.body.style.height = `${overflowHeight + window.innerHeight}px`;

            targetScroll = -(
                document.documentElement.scrollTop || document.body.scrollTop
            );
            currentScroll += (targetScroll - currentScroll) * 0.1;
            foldsContent.forEach(content => {
                content.style.transform = `translateY(${currentScroll}px)`;
            });
            requestAnimationFrame(tick);
        };
        tick();


        setTimeout(function() {
            document.getElementById("olok").style.opacity = "1";
            const music = new Audio('src/img/mu.mp3');
            music.play();
            music.volume = 1;
            class TextScramble {
                constructor(el) {
                    this.el = el
                    this.chars = ' N A D I A '
                    this.update = this.update.bind(this)
                }
                setText(newText) {
                    const oldText = this.el.innerText
                    const length = Math.max(oldText.length, newText.length)
                    const promise = new Promise((resolve) => this.resolve = resolve)
                    this.queue = []
                    for (let i = 0; i < length; i++) {
                        const from = oldText[i] || ''
                        const to = newText[i] || ''
                        const start = Math.floor(Math.random() * 40)
                        const end = start + Math.floor(Math.random() * 40)
                        this.queue.push({
                            from,
                            to,
                            start,
                            end
                        })
                    }
                    cancelAnimationFrame(this.frameRequest)
                    this.frame = 0
                    this.update()
                    return promise
                }
                update() {
                    let output = ''
                    let complete = 0
                    for (let i = 0, n = this.queue.length; i < n; i++) {
                        let {
                            from,
                            to,
                            start,
                            end,
                            char
                        } = this.queue[i]
                        if (this.frame >= end) {
                            complete++
                            output += to
                        } else if (this.frame >= start) {
                            if (!char || Math.random() < 0.28) {
                                char = this.randomChar()
                                this.queue[i].char = char
                            }
                            output += `<span class="dud">${char}</span>`
                        } else {
                            output += from
                        }
                    }
                    this.el.innerHTML = output
                    if (complete === this.queue.length) {
                        this.resolve()
                    } else {
                        this.frameRequest = requestAnimationFrame(this.update)
                        this.frame++
                    }
                }
                randomChar() {
                    return this.chars[Math.floor(Math.random() * this.chars.length)]
                }
            }

            const phrases = [
                'Mi amor‚ù§Ô∏è',
                'Mi ni√±a‚ù§Ô∏è',
                'Mi vidaüíò',
                "Probablemente te preguntes",
                "¬øPor que Netflix?ü§î",
                "y es que",
                'Quiero que el aqui y ahora',
                'Sea como una peliculaü•∫',
                'Donde cada',
                "Meta",
                'Logro',
                'Objetivo',
                'Incluso desafio',
                'Sea un capitulo mas',
                'De nuestra historia',
                'Nosotros seremos los mejores protagonistas',
                'Y estoy mas que seguro',
                'Que elegi al mejor equipo del mundoü•∫',
                'Aqui sera donde se ira agregando ',
                'Cada cosa que vayamos logrando juntos‚ù§Ô∏è',
                "Esto apenas es el inicio de una gran aventura",
                "Donde quiero que esta aventura",
                "Dure TODA MI VIDA",
                "Te amo tanto nadia‚ù§Ô∏è",
            ]

            const el = document.querySelector('.text')
            const fx = new TextScramble(el)

            let counter = 0
            const next = () => {
                fx.setText(phrases[counter]).then(() => {
                    setTimeout(next, 2000)
                })
                counter = (counter + 1) % phrases.length
            }

            next()
            setTimeout(function() {
                document.getElementById("olok").style.opacity = "0";
                document.getElementById("olok").style.display = "none";
                music.pause()
            }, 59200);
        }, 99999999);

        document.getElementById("btna").addEventListener("click", function() {
            window.open("src/page/scroll.html");
        })
    </script>

</body>

</html>